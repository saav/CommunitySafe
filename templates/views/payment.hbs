<!DOCTYPE html>
<html>
<head>
  <title>Payment</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
    .payment-form{
	padding-bottom: 50px;
	font-family: 'Montserrat', sans-serif;
}

.payment-form.dark{
	background-color: #f6f6f6;
}

.payment-form .content{
	box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);
	background-color: white;
}

.payment-form .block-heading{
    padding-top: 50px;
    margin-bottom: 40px;
    text-align: center;
}

.payment-form .block-heading p{
	text-align: center;
	max-width: 420px;
	margin: auto;
	opacity:0.7;
}

.payment-form.dark .block-heading p{
	opacity:0.8;
}

.payment-form .block-heading h1,
.payment-form .block-heading h2,
.payment-form .block-heading h3 {
	margin-bottom:1.2rem;
	color: #3b99e0;
}

.payment-form form{
	border-top: 2px solid #5ea4f3;
	box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);
	background-color: #ffffff;
	padding: 0;
	max-width: 600px;
	margin: auto;
}

.payment-form .title{
	font-size: 1em;
	border-bottom: 1px solid rgba(0,0,0,0.1);
	margin-bottom: 0.8em;
	font-weight: 600;
	padding-bottom: 8px;
}

.payment-form .products{
	background-color: #f7fbff;
    padding: 25px;
}

.payment-form .products .item{
	margin-bottom:1em;
}

.payment-form .products .item-name{
	font-weight:600;
	font-size: 0.9em;
}

.payment-form .products .item-description{
	font-size:0.8em;
	opacity:0.6;
}

.payment-form .products .item p{
	margin-bottom:0.2em;
}

.payment-form .products .price{
	float: right;
	font-weight: 600;
	font-size: 0.9em;
}

.payment-form .products .total{
	border-top: 1px solid rgba(0, 0, 0, 0.1);
	margin-top: 10px;
	padding-top: 19px;
	font-weight: 600;
	line-height: 1;
}

.payment-form .card-details{
	padding: 25px 25px 15px;
}

.payment-form .card-details label{
	font-size: 12px;
	font-weight: 600;
	margin-bottom: 15px;
	color: #79818a;
	text-transform: uppercase;
}

.payment-form .card-details button{
	margin-top: 0.6em;
	padding:12px 0;
	font-weight: 600;
}

.payment-form .date-separator{
 	margin-left: 10px;
    margin-right: 10px;
    margin-top: 5px;
}

@media (min-width: 576px) {
	.payment-form .title {
		font-size: 1.2em; 
	}

	.payment-form .products {
		padding: 40px; 
  	}

	.payment-form .products .item-name {
		font-size: 1em; 
	}

	.payment-form .products .price {
    	font-size: 1em; 
	}

  	.payment-form .card-details {
    	padding: 40px 40px 30px; 
    }

  	.payment-form .card-details button {
    	margin-top: 2em; 
    } 
}
</style>
</head>
<body>
  <main class="page payment-page">
  <section class="payment-form dark">
    <div class="container">
      <div class="block-heading">
        <h2>Payment</h2>
        <div id="success-message" style="display:none; background-color:aquamarine; width:100%;">successfull!</div>
        {{!-- <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo.</p> --}}
      </div>
      <form action="/pay" method ="post">
        <div class="products">
          <h3 class="title">Checkout <i class="fa-brands fa-cc-visa"></i> <i class="fa-brands fa-cc-mastercard"></i></h3>
          <input id="amount" type="number" name="amount" class="form-control" placeholder="Enter Ammount in INR" aria-label="Ammount in INR" required>
        </div>
        <div class="card-details">
          <h3 class="title">Card Details</h3>
          <div class="row">
            <div class="form-group col-sm-7">
              <label for="card-holder">Card Holder</label>
              <input id="card-holder" type="text" name="name" class="form-control" placeholder="Card Holder" aria-label="Card Holder" aria-describedby="basic-addon1" required>
            </div>
            <div class="form-group col-sm-5">
              <label for="">Expiration Date</label>
              <div class="input-group expiration-date">
                <input type="text" name="exp_month" class="form-control" placeholder="MM" aria-label="MM" aria-describedby="basic-addon1" pattern="\d{2}" required>
                <span class="date-separator">/</span>
                <input type="text" name="exp_year" class="form-control" placeholder="YY" aria-label="YY" aria-describedby="basic-addon1" pattern="\d{2}" required>
              </div>
            </div>
            <div class="form-group col-sm-8">
              <label for="card-number">Card Number</label>
              <input id="card-number" name="card_number" type="text" class="form-control" placeholder="Card Number" aria-label="Card Holder" aria-describedby="basic-addon1" pattern="\d{16}" required>
            </div>
            <div class="form-group col-sm-4">
              <label for="cvc">CVC</label>
              <input id="cvc" name="cvv" type="text" class="form-control" placeholder="CVC" aria-label="Card Holder" aria-describedby="basic-addon1" pattern="\d{3}" required>
            </div>
            <div class="form-group col-sm-12">
              <button type="submit" class="btn btn-primary btn-block" id="submit-btn">Proceed</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </section>
</main>

</body>
<script>
    const submitBtn = document.getElementById('submit-btn');
const successMessage = document.getElementById('success-message');

submitBtn.addEventListener('click', function() {
  successMessage.style.display = 'block';
});
const form = document.querySelector('form');
const submitBtn = document.querySelector('#submit-btn');

submitBtn.addEventListener('click', function(event) {
  event.preventDefault(); // prevent form from submitting

  const cardHolderInput = document.querySelector('#card-holder');
  const cardNumberInput = document.querySelector('#card-number');
  const expirationMonthInput = document.querySelector('#expiration-month');
  const expirationYearInput = document.querySelector('#expiration-year');
  const cvcInput = document.querySelector('#cvc');
  const errorMessage = document.querySelector('#error-message');
  const successMessage = document.querySelector('#success-message');

  // check if card holder name is not empty
  if (cardHolderInput.value.trim() === '') {
    errorMessage.textContent = 'Please enter the card holder name';
    return false;
  }

  // check if card number is a valid number
  const cardNumberRegex = /^[0-9]{16}$/;
  if (!cardNumberRegex.test(cardNumberInput.value.trim())) {
    errorMessage.textContent = 'Please enter a valid 16-digit card number';
    return false;
  }

  // check if expiration month is not empty and between 1 and 12
  const expirationMonth = parseInt(expirationMonthInput.value.trim());
  if (isNaN(expirationMonth) || expirationMonth < 1 || expirationMonth > 12) {
    errorMessage.textContent = 'Please enter a valid expiration month';
    return false;
  }

  // check if expiration year is not empty and not in the past
  const expirationYear = parseInt(expirationYearInput.value.trim());
  const currentYear = new Date().getFullYear();
  if (isNaN(expirationYear) || expirationYear < currentYear) {
    errorMessage.textContent = 'Please enter a valid expiration year';
    return false;
  }

  // check if cvc is a valid number
  const cvcRegex = /^[0-9]{3}$/;
  if (!cvcRegex.test(cvcInput.value.trim())) {
    errorMessage.textContent = 'Please enter a valid 3-digit CVC code';
    return false;
  }

  // if all input fields are valid, show success message
  successMessage.style.display = 'block';

  // submit the form
  form.submit();
});


</script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>